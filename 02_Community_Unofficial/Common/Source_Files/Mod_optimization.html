<div class="citizen-body-container">
	<div id="bodyContent" class="citizen-body" aria-labelledby="firstHeading">
		<div id="contentSub">
			<div id="mw-content-subtitle"></div>
		</div>


		<div id="mw-content-text" class="mw-body-content">
			<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
				<section class="citizen-section" id="citizen-section-0">
					<div class="langswitch">
						<p><a class="mw-selflink selflink"><span title="Mod optimization (English)">English</span></a>
							• <a href="/w/index.php?title=Mod_optimization/cs&amp;action=edit&amp;redlink=1" class="new"
								title="Mod optimization/cs (page does not exist)"><span
									title="Mod optimization/cs (čeština)">čeština</span></a>
							• <a href="/w/index.php?title=Mod_optimization/de&amp;action=edit&amp;redlink=1" class="new"
								title="Mod optimization/de (page does not exist)"><span
									title="Mod optimization/de (Deutsch)">Deutsch</span></a>
							• <a href="/w/index.php?title=Mod_optimization/es&amp;action=edit&amp;redlink=1" class="new"
								title="Mod optimization/es (page does not exist)"><span
									title="Mod optimization/es (español)">español</span></a>
							• <a href="/w/index.php?title=Mod_optimization/fr&amp;action=edit&amp;redlink=1" class="new"
								title="Mod optimization/fr (page does not exist)"><span
									title="Mod optimization/fr (français)">français</span></a>
							• <a href="/w/index.php?title=Mod_optimization/it&amp;action=edit&amp;redlink=1" class="new"
								title="Mod optimization/it (page does not exist)"><span
									title="Mod optimization/it (italiano)">italiano</span></a>
							• <a href="/w/index.php?title=Mod_optimization/ja&amp;action=edit&amp;redlink=1" class="new"
								title="Mod optimization/ja (page does not exist)"><span
									title="Mod optimization/ja (日本語)">日本語</span></a>
							• <a href="/w/index.php?title=Mod_optimization/ko&amp;action=edit&amp;redlink=1" class="new"
								title="Mod optimization/ko (page does not exist)"><span
									title="Mod optimization/ko (한국어)">한국어</span></a>
							• <a href="/w/index.php?title=Mod_optimization/pl&amp;action=edit&amp;redlink=1" class="new"
								title="Mod optimization/pl (page does not exist)"><span
									title="Mod optimization/pl (polski)">polski</span></a>
							• <a href="/w/index.php?title=Mod_optimization/pt&amp;action=edit&amp;redlink=1" class="new"
								title="Mod optimization/pt (page does not exist)"><span
									title="Mod optimization/pt (português)">português</span></a>
							• <a href="/w/index.php?title=Mod_optimization/pt-br&amp;action=edit&amp;redlink=1"
								class="new" title="Mod optimization/pt-br (page does not exist)"><span
									title="Mod optimization/pt-br (português do Brasil)">português do Brasil</span></a>
							• <a href="/w/index.php?title=Mod_optimization/ru&amp;action=edit&amp;redlink=1" class="new"
								title="Mod optimization/ru (page does not exist)"><span
									title="Mod optimization/ru (русский)">русский</span></a>
							• <a href="/w/index.php?title=Mod_optimization/th&amp;action=edit&amp;redlink=1" class="new"
								title="Mod optimization/th (page does not exist)"><span
									title="Mod optimization/th (ไทย)">ไทย</span></a>
							• <a href="/w/index.php?title=Mod_optimization/tr&amp;action=edit&amp;redlink=1" class="new"
								title="Mod optimization/tr (page does not exist)"><span
									title="Mod optimization/tr (Türkçe)">Türkçe</span></a>
							• <a href="/w/index.php?title=Mod_optimization/uk&amp;action=edit&amp;redlink=1" class="new"
								title="Mod optimization/uk (page does not exist)"><span
									title="Mod optimization/uk (українська)">українська</span></a>
							• <a href="/w/index.php?title=Mod_optimization/zh-hans&amp;action=edit&amp;redlink=1"
								class="new" title="Mod optimization/zh-hans (page does not exist)"><span
									title="Mod optimization/zh-hans (中文（简体）)">中文（简体）</span></a>
							• <a href="/w/index.php?title=Mod_optimization/zh-hant&amp;action=edit&amp;redlink=1"
								class="new" title="Mod optimization/zh-hant (page does not exist)"><span
									title="Mod optimization/zh-hant (中文（繁體）)">中文（繁體）</span></a>
						</p>
					</div>
					<div class="navbar2">
						<div><a href="/wiki/Modding" title="Modding">Modding</a></div>
						<div>
							<hr>
							<p><a href="/wiki/Game_files" title="Game files">Game files</a> • <a
									href="/wiki/File_formats" title="File formats">File formats</a> • <a
									href="/wiki/Mod_structure" title="Mod structure">Mod structure</a> • <a
									href="/wiki/Decompiling_game_code" title="Decompiling game code">Decompiling game
									code</a> • <a href="/wiki/Startup_parameters" title="Startup parameters">Startup
									parameters</a> • <a class="mw-selflink selflink">Mod optimization</a> • <a
									href="/wiki/Procedural_distributions" title="Procedural distributions">Procedural
									distributions</a> • <a href="/wiki/Scripts" title="Scripts">Scripts</a> • <a
									href="/wiki/Lua_(API)" title="Lua (API)">Lua (API)</a> • <a href="/wiki/Java"
									title="Java">Java</a> • <a href="/wiki/Modeling" title="Modeling">Modeling</a> • <a
									href="/wiki/Rendering" title="Rendering">Rendering</a> • <a href="/wiki/Animation"
									title="Animation">Animation</a> • <a href="/wiki/Mapping"
									title="Mapping">Mapping</a> • <a href="/wiki/Translations"
									title="Translations">Translations</a>
							</p>
						</div>
					</div>
					<div class="mbox"
						style="background-color: var(--background-message-warn);border: 1px solid #ff8010;">
						<div style="background-color: #ff8010;"></div>
						<div><span class="mw-default-size notpageimage" typeof="mw:File"><a
									href="/wiki/Template:Page_version" title="Template:Page version"><img
										src="/w/images/c/cd/Profession_engineer.png" decoding="async" width="64"
										height="64" class="mw-file-element"></a></span></div>
						<div>
							<div style="font-weight: bold; padding-right: 1em;">This page has been updated to an
								<i>unstable</i> beta version (<a href="/wiki/Build_42.10.0"
									title="Build 42.10.0">42.10.0</a>).</div>
							<div class="mw-collapsible mw-collapsed mw-made-collapsible"
								id="mw-customcollapsible-mbox-version" style="display: none;">There may be additional
								features that are not in the stable version (<a href="/wiki/Build_41.78.16"
									title="Build 41.78.16">41.78.16</a>).</div>
							<div class="toggle mw-customtoggle-mbox-version mw-customtoggle" title="Show/Hide"
								aria-expanded="true" tabindex="0"></div>
							<div class="mw-collapsible mw-collapsed mw-made-collapsible"
								id="mw-customcollapsible-mbox-version"
								style="font-size: 80%; font-style: italic; display: none;">Help get this page updated to
								the current unstable version (<a href="/wiki/Build_42.13.1"
									title="Build 42.13.1">42.13.1</a>). <span class="plainlinks"><a rel="nofollow"
										class="external text"
										href="https://pzwiki.net/w/index.php?title=Mod_optimization&amp;veaction=edit">Edit</a>
									(<a rel="nofollow" class="external text"
										href="https://pzwiki.net/w/index.php?title=Special:CreateAccount&amp;returnto=Mod_optimization">Create
										account</a>)</span></div>
						</div>
					</div>
					<p><b>Mod optimization</b> is a very important part of mod making which is often ignored by too many
						people. When mods start to stack in a save, you will happen to drag all the problems of each
						mods and as such can create important performance impact when very simple tips and tricks can be
						utilized to improve performances. The following guide will explain in detail some of these tips
						and tricks to reduce the performance impact of your mod to a minimum and develop good habits.
					</p>
					<meta property="mw:PageProp/toc">
				</section>
				<h2 class="citizen-section-heading"><span
						class="citizen-section-indicator citizen-ui-icon mw-ui-icon-wikimedia-collapse"></span><span
						id="Lua_.28API.29"></span><span class="mw-headline" id="Lua_(API)">Lua (API)</span></h2>
				<section class="citizen-section" id="citizen-section-1">
					<h3><span id="Don.27t_need_it.3F_Don.27t_run_it"></span><span class="mw-headline"
							id="Don't_need_it?_Don't_run_it">Don't need it? Don't run it</span></h3>
					<p>The first and main way you can and should optimize your code is with a simple rule: if you don't
						need to run it, don't do it. It might seem obvious at first and yet it is often a common
						mistake.
					</p>
					<p>In your code, you will most likely use checks to verify if a code should run, for example run
						your code only if the player moves, as an intended feature. However it's possible to use the
						same principle to stop code from running when it doesn't need to run even if it technically
						doesn't matter in term of gameplay for your mod. It will however matter internally to have less
						code running.
					</p>
					<h4><span class="mw-headline" id="Examples">Examples</span></h4>
					<p>Optimizing code that runs a lot, like for zombies for example, matters especially a lot. Let's
						take for example a simple mod with the goal of setting every zombies as skeletons using
						<code>IsoZombie.setSkeleton</code>.
						<b>Source:</b>
						<code>ProjectZomboid\zombie\characters\<span style="color: #3434ff;">IsoZombie.class</span></code>
					</p>
					<p><i><small><b>Retrieved</b>: <a href="/wiki/Build_42" title="Build 42">Build 42.0.1</a>
							</small></i></p>
					<div class="mw-highlight mw-highlight-lang-java mw-content-ltr mw-highlight-lines" dir="ltr">
						<pre><span></span><span class="linenos" data-line="4789"></span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setSkeleton</span><span class="p">(</span><span class="kt">boolean</span><span class="w"> </span><span class="n">var1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-line="4790"></span><span class="w">   </span><span class="k">this</span><span class="p">.</span><span class="na">isSkeleton</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">var1</span><span class="p">;</span>
<span class="linenos" data-line="4791"></span><span class="w">   </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">var1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-line="4792"></span><span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="na">getHumanVisual</span><span class="p">().</span><span class="na">setHairModel</span><span class="p">(</span><span class="s">""</span><span class="p">);</span>
<span class="linenos" data-line="4793"></span><span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="na">getHumanVisual</span><span class="p">().</span><span class="na">setBeardModel</span><span class="p">(</span><span class="s">""</span><span class="p">);</span>
<span class="linenos" data-line="4794"></span><span class="w">      </span><span class="n">ModelManager</span><span class="p">.</span><span class="na">instance</span><span class="p">.</span><span class="na">Reset</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="linenos" data-line="4795"></span><span class="w">   </span><span class="p">}</span>
<span class="linenos" data-line="4796"></span><span class="p">}</span>
</pre>
					</div>
					<div class="mw-highlight mw-highlight-lang-lua mw-content-ltr" dir="ltr">
						<pre><span></span><span class="c1">-- Iterate through every zombies and set their visual as skeletons</span>
<span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">OnZombieUpdate</span><span class="p">(</span><span class="nv">zombie</span><span class="p">)</span>
<span class="w">    </span><span class="nv">zombie</span><span class="p">:</span><span class="nf">setSkeleton</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
<span class="kr">end</span>

<span class="nv">Events</span><span class="p">.</span><span class="py">OnZombieUpdate</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="nv">OnZombieUpdate</span><span class="p">)</span>
</pre>
					</div>
					<p>This code will run for every zombies, every ticks which can become extremely costly because the
						<code>setSkeleton</code> function calls a lot of stuff, thus running a lot more code than we
						really need because once the zombie is made as a skeleton, it doesn't need to be set again. To
						greatly reduce the performance impact of this code, we can add a simple check and ignore the
						zombie if it's already a skeleton:
					</p>
					<div class="mw-highlight mw-highlight-lang-lua mw-content-ltr" dir="ltr">
						<pre><span></span><span class="c1">-- Iterate through every zombies and set their visual as skeletons only if they aren't skeletons</span>
<span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">OnZombieUpdate</span><span class="p">(</span><span class="nv">zombie</span><span class="p">)</span>
<span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">zombie</span><span class="p">:</span><span class="nf">isSkeleton</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
<span class="w">        </span><span class="nv">zombie</span><span class="p">:</span><span class="nf">setSkeleton</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
<span class="w">    </span><span class="kr">end</span>
<span class="kr">end</span>

<span class="nv">Events</span><span class="p">.</span><span class="py">OnZombieUpdate</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="nv">OnZombieUpdate</span><span class="p">)</span>
</pre>
					</div>
					<p>This equals to a single function call per zombie every ticks, and ignores multiple function calls
						if the zombie is already a skeleton, greatly reducing the amount of code ran per ticks.
					</p>
					<p>If you want to go further in the optimization, there are cases where doing such a check is
						possible and yet is actually worse for performances. Take the example of keeping the hit time of
						a zombie to a fixed value.
						<b>Source:</b>
						<code>ProjectZomboid\zombie\characters\<span style="color: #3434ff;">IsoZombie.class</span></code>
					</p>
					<p><i><small><b>Retrieved</b>: <a href="/wiki/Build_42" title="Build 42">Build 42.0.1</a>
							</small></i></p>
					<div class="mw-highlight mw-highlight-lang-java mw-content-ltr mw-highlight-lines" dir="ltr">
						<pre><span></span><span class="linenos" data-line="4798"></span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">getHitTime</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-line="4799"></span><span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">hitTime</span><span class="p">;</span>
<span class="linenos" data-line="4800"></span><span class="p">}</span>
<span class="linenos" data-line="4801"></span>
<span class="linenos" data-line="4802"></span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setHitTime</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">var1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-line="4803"></span><span class="w">   </span><span class="k">this</span><span class="p">.</span><span class="na">hitTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">var1</span><span class="p">;</span>
<span class="linenos" data-line="4804"></span><span class="p">}</span>
</pre>
					</div>
					<p>If we apply the trick presented before, we obtain the code below:
					</p>
					<div class="mw-highlight mw-highlight-lang-lua mw-content-ltr" dir="ltr">
						<pre><span></span><span class="c1">-- Iterate through every zombies and set their hit time to the desired value</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">desiredHitTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span>
<span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">OnZombieUpdate</span><span class="p">(</span><span class="nv">zombie</span><span class="p">)</span>
<span class="w">    </span><span class="c1">-- verify current zombie hit time is the desired value</span>
<span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">zombie</span><span class="p">:</span><span class="nf">getHitTime</span><span class="p">()</span><span class="w"> </span><span class="err">!</span><span class="o">=</span><span class="w"> </span><span class="nv">desiredHitTime</span><span class="w"> </span><span class="kr">then</span>
<span class="w">        </span><span class="c1">-- set the value</span>
<span class="w">        </span><span class="nv">zombie</span><span class="p">:</span><span class="nf">setHitTime</span><span class="p">(</span><span class="nv">desiredHitTime</span><span class="p">)</span>
<span class="w">    </span><span class="kr">end</span>
<span class="kr">end</span>

<span class="nv">Events</span><span class="p">.</span><span class="py">OnZombieUpdate</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="nv">OnZombieUpdate</span><span class="p">)</span>
</pre>
					</div>
					<p>The code ran will do a single java function call and comparison operation. But we do one less
						code operation with the code below:
					</p>
					<div class="mw-highlight mw-highlight-lang-lua mw-content-ltr" dir="ltr">
						<pre><span></span><span class="c1">-- Iterate through every zombies and set their hit time to the desired value</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">desiredHitTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span>
<span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">OnZombieUpdate</span><span class="p">(</span><span class="nv">zombie</span><span class="p">)</span>
<span class="w">    </span><span class="c1">-- set the value</span>
<span class="w">    </span><span class="nv">zombie</span><span class="p">:</span><span class="nf">setHitTime</span><span class="p">(</span><span class="nv">desiredHitTime</span><span class="p">)</span>
<span class="kr">end</span>

<span class="nv">Events</span><span class="p">.</span><span class="py">OnZombieUpdate</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="nv">OnZombieUpdate</span><span class="p">)</span>
</pre>
					</div>
					<p>In this last example, we have a single java function call and nothing more. These exceptions
						require the <a href="/wiki/Decompiling_game_code" title="Decompiling game code">decompilation of
							the game code</a> to know what you are using and optimize your code. Doing checks anyway is
						however usually fine to do.
					</p>
					<h3><span id="Local.2C_not_global"></span><span class="mw-headline" id="Local,_not_global">Local,
							not global</span></h3>
					<p>Accessing a global is more costly than having a variable be local and poses other problems (see
						<a href="/wiki/Lua_(language)#Local_and_global" title="Lua (language)">Local and global
							variables</a>). This can simply be achieved by never using global variables. This principle
						is the direct reason why caching should be used, as described in a later part.
					</p>
					<div class="mw-highlight mw-highlight-lang-lua mw-content-ltr" dir="ltr">
						<pre><span></span><span class="c1">-- bad</span>
<span class="nv">myVariable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Hello World!"</span>

<span class="c1">-- better</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">myVariable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Hello World!"</span>
</pre>
					</div>
					<div class="mw-highlight mw-highlight-lang-lua mw-content-ltr" dir="ltr">
						<pre><span></span><span class="c1">-- bad</span>
<span class="nv">MyFunctions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>

<span class="nv">MyFunctions</span><span class="p">.</span><span class="py">SayHelloWorld</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
<span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">"Hello World!"</span><span class="p">)</span>
<span class="kr">end</span>

<span class="c1">-- better</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">MyFunctions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>

<span class="nv">MyFunctions</span><span class="p">.</span><span class="py">SayHelloWorld</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
<span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">"Hello World!"</span><span class="p">)</span>
<span class="kr">end</span>
</pre>
					</div>
					<p>There are however cases of vanilla global variables which you need to access, or sometimes you
						really need to have your variable global. In these rare cases, you can directly cache the global
						variable into a local variable:
					</p>
					<div class="mw-highlight mw-highlight-lang-lua mw-content-ltr" dir="ltr">
						<pre><span></span><span class="c1">-- File1.lua</span>
<span class="nv">MyGlobalVariable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Hello World!"</span>

<span class="c1">-- File2.lua</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">MyGlobalVariable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">MyGlobalVariable</span><span class="w"> </span><span class="c1">-- store locally the global variable</span>
</pre>
					</div>
					<p><b>Source:</b>
						<code>ProjectZomboid\media\lua\server\Items\<span style="color: #3434ff;">ISDynamicRadio.lua</span></code>
					</p>
					<p><i><small><b>Retrieved</b>: <a href="/wiki/Build_42" title="Build 42">Build 42.0.2</a>
							</small></i></p>
					<div class="mw-highlight mw-highlight-lang-lua mw-content-ltr mw-highlight-lines" dir="ltr">
						<pre><span></span><span class="linenos" data-line="1"></span><span class="nv">ProceduralDistributions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{};</span>
</pre>
					</div>
					<div class="mw-highlight mw-highlight-lang-lua mw-content-ltr" dir="ltr">
						<pre><span></span><span class="c1">-- Making a vanilla global as local</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">ProceduralDistributions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">ProceduralDistributions</span>
</pre>
					</div>
					<h3><span class="mw-headline" id="Caching">Caching</span></h3>
					<p>The best way to optimize code is to not run the code. This can be applied with a very easy method
						of optimizing, and also cleaning up your code at the same time, which is called caching. Caching
						involves storing a value or object to be used later instead of retrieving it every time we need
						it.
					</p>
					<h4><span class="mw-headline" id="Simple_caching_within_a_function">Simple caching within a
							function</span></h4>
					<p>Below is a small code snipet which will access the item in the hands of the player, and if it is
						a gun it changes the ammo count to the maximum.
					</p>
					<div class="mw-highlight mw-highlight-lang-lua mw-content-ltr" dir="ltr">
						<pre><span></span><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">OnPlayerUpdate</span><span class="p">(</span><span class="nv">player</span><span class="p">)</span>
<span class="w">    </span><span class="c1">-- check if player has a weapon</span>
<span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">player</span><span class="p">:</span><span class="nf">getPrimaryHandItem</span><span class="p">()</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nf">instanceof</span><span class="p">(</span><span class="nv">player</span><span class="p">:</span><span class="nf">getPrimaryHandItem</span><span class="p">(),</span><span class="s2">"HandWeapon"</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
<span class="w">        </span><span class="c1">-- verify it's a gun</span>
<span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">player</span><span class="p">:</span><span class="nf">getPrimaryHandItem</span><span class="p">():</span><span class="nf">isRanged</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
<span class="w">            </span><span class="c1">-- verify it has the max amount of bullets</span>
<span class="w">            </span><span class="kr">if</span><span class="w"> </span><span class="nv">player</span><span class="p">:</span><span class="nf">getPrimaryHandItem</span><span class="p">():</span><span class="nf">getCurrentAmmoCount</span><span class="p">()</span><span class="w"> </span><span class="o">~=</span><span class="w"> </span><span class="nv">player</span><span class="p">:</span><span class="nf">getPrimaryHandItem</span><span class="p">():</span><span class="nf">getMaxAmmo</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
<span class="w">                </span><span class="c1">-- set the bullet count to max</span>
<span class="w">                </span><span class="nv">player</span><span class="p">:</span><span class="nf">getPrimaryHandItem</span><span class="p">():</span><span class="nf">setCurrentAmmoCount</span><span class="p">(</span><span class="nv">player</span><span class="p">:</span><span class="nf">getPrimaryHandItem</span><span class="p">():</span><span class="nf">getMaxAmmo</span><span class="p">())</span>
<span class="w">            </span><span class="kr">end</span>
<span class="w">        </span><span class="kr">end</span>
<span class="w">    </span><span class="kr">end</span>
<span class="kr">end</span>

<span class="nv">Events</span><span class="p">.</span><span class="py">OnPlayerUpdate</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="nv">OnPlayerUpdate</span><span class="p">)</span>
</pre>
					</div>
					<p>We can make this code easier to read, organize it better as well as optimize it by using caching.
					</p>
					<div class="mw-highlight mw-highlight-lang-lua mw-content-ltr" dir="ltr">
						<pre><span></span><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">OnPlayerUpdate</span><span class="p">(</span><span class="nv">player</span><span class="p">)</span>
<span class="w">    </span><span class="c1">-- check if player has a gun</span>
<span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">weapon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">player</span><span class="p">:</span><span class="nf">getPrimaryHandItem</span><span class="p">()</span><span class="w"> </span><span class="c1">-- caching the item in primary hand</span>
<span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">weapon</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nf">instanceof</span><span class="p">(</span><span class="nv">weapon</span><span class="p">,</span><span class="s2">"HandWeapon"</span><span class="p">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">weapon</span><span class="p">:</span><span class="nf">isRanged</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
<span class="w">        </span><span class="c1">-- verify it has the max amount of bullets</span>
<span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">maxBulletsCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">weapon</span><span class="p">:</span><span class="nf">getMaxAmmo</span><span class="p">()</span><span class="w"> </span><span class="c1">-- caching the max ammo count possible in the gun</span>
<span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">weapon</span><span class="p">:</span><span class="nf">getCurrentAmmoCount</span><span class="p">()</span><span class="w"> </span><span class="o">~=</span><span class="w"> </span><span class="nv">maxBulletsCount</span><span class="w"> </span><span class="kr">then</span>
<span class="w">            </span><span class="c1">-- set the bullet count to max</span>
<span class="w">            </span><span class="nv">weapon</span><span class="p">:</span><span class="nf">setCurrentAmmoCount</span><span class="p">(</span><span class="nv">maxBulletsCount</span><span class="p">)</span>
<span class="w">        </span><span class="kr">end</span>
<span class="w">    </span><span class="kr">end</span>
<span class="kr">end</span>

<span class="nv">Events</span><span class="p">.</span><span class="py">OnPlayerUpdate</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="nv">OnPlayerUpdate</span><span class="p">)</span>
</pre>
					</div>
					<p>Using caching we end up not having to call multiple times various functions as we do only 6 java
						calls instead of 13 in the first one, basically halving the function calls.
					</p>
					<h4><span class="mw-headline" id="Caching_within_the_core_file">Caching within the core file</span>
					</h4>
					<p>Very often some of the core objects don't change and you end up using the same object over
						different function calls. You can store the objects, values etc in the core of the file instead
						of calling it inside the function everytime. This gives a performance boost and allows you to
						use the same object in different functions too.
					</p>
					<div class="mw-highlight mw-highlight-lang-lua mw-content-ltr" dir="ltr">
						<pre><span></span><span class="c1">-- bad</span>
<span class="nv">Events</span><span class="p">.</span><span class="py">OnTick</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="kr">function</span><span class="p">()</span>
<span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">zombieList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">getCell</span><span class="p">():</span><span class="nf">getZombieList</span><span class="p">()</span>
<span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="nv">zombieList</span><span class="p">:</span><span class="nf">size</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">"zombies currently loaded"</span><span class="p">)</span>
<span class="kr">end</span><span class="p">)</span>

<span class="c1">-- better</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">zombieList</span>
<span class="c1">-- Event fired when the cell loads</span>
<span class="nv">Events</span><span class="p">.</span><span class="py">OnPostMapLoad</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">cell</span><span class="p">)</span>
<span class="w">    </span><span class="nv">zombieList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">cell</span><span class="p">:</span><span class="nf">getZombieList</span><span class="p">()</span>
<span class="kr">end</span><span class="p">)</span>

<span class="nv">Events</span><span class="p">.</span><span class="py">OnTick</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="kr">function</span><span class="p">()</span>
<span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="nv">zombieList</span><span class="p">:</span><span class="nf">size</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">"zombies currently loaded"</span><span class="p">)</span>
<span class="kr">end</span><span class="p">)</span>
</pre>
					</div>
					<p>The zombie list will always be the same object in a save, meaning you can store it on a save
						loading and never have to retrieve it ever again.
					</p>
					<h3><span id="The_less_function_calls.2C_the_better"></span><span class="mw-headline"
							id="The_less_function_calls,_the_better">The less function calls, the better</span></h3>
					<p>Again here, we base this rule on the first and main rule to not run something if you don't need
						to but we go in detail on why exactly functions should be used as little as possible.
					</p>
					<p>Doing a function call in Kahlua tends to be a costly operation due to function overhead. This
						sadly means we have to sacrifice code readability and structuration for bigger functions to
						greatly improve performances. This is particularly impactful in cases where functions are called
						a lot, such as when running code for every zombie every ticks to continue on one of the previous
						examples.
					</p>
					<p>In this way, try to use the <code>math</code> module as little as possible, and use directly the
						code they run, without the need to call a function.
					</p>
					<p>In continuation on this, Java functions are a costly operation to be called from the Lua and as
						such should be used as little as possible but of course they are the core of modding and you
						can't mod without them. As such, if you find alternatives which are Lua sided, it might have a
						point to compare the performance impact.
					</p>
					<h4><span class="mw-headline" id="math_equivalents"><code>math</code> equivalents</span></h4>
					<p>Here are some of the <code>math</code> lua library code to use instead of the functions.
					</p>
					<div class="mw-highlight mw-highlight-lang-lua mw-content-ltr" dir="ltr">
						<pre><span></span><span class="c1">-- math.max</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nv">maxvalue</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nv">maxvalue</span>

<span class="c1">-- math.min</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nv">minvalue</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nv">minvalue</span>

<span class="c1">-- <a class="code-link" href="//math.min/max">math.min/max</a> combo</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nv">minvalue</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="p">(</span><span class="nv">value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nv">maxvalue</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nv">maxvalue</span><span class="p">)</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nv">minvalue</span>

<span class="c1">-- math.pow</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="nv">exponent</span>

<span class="c1">-- math.sqrt</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="mf">0.5</span>

<span class="c1">-- math.floor</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">1</span>

<span class="c1">-- math.abs</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="o">-</span><span class="nv">value</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nv">value</span>
</pre>
					</div>
					<p>You can find many more example of these and it is way better to use these than the actual
						functions.
					</p>
					<h3><span class="mw-headline" id="Prints_are_the_devil">Prints are the devil</span></h3>
					<p>If you ever get performance problems with a mod, it is actually very easy to bet on the potential
						problem: prints. These are used by most modders to show in the console values and actions
						happening in a code and are only useful for development of the mod. But this operation is
						extremely costly to run and will be the source of many many lags in mods. Too often do you see
						modders leaving these in thinking they don't matter when they are the source of most performance
						issues in way too many mods.
					</p>
					<p>Debug mode activated or not, the performance impact is the same. Some modders add a check for
						debug mode to need to be activated to print in the console but here we remember the first rule:
						do not run it if you don't need. Adding such checks will introduce useless code running for no
						reason, even if it stops prints from happening.
					</p>
					<p>Prints are useless for almost everyone, users will not need it nor case about it and those who do
						rarely ever know what they mean. Prints are personal to the modder and shouldn't be left in
						uploaded code. Leaving it can also cause problems for other modders who try to develop patches
						for the mod that has prints as they get their console bloated with informations they do not
						need, hidding their own prints for their development.
					</p>
					<p>Even if the prints are not done often like every in-game hours, the problem is that if every
						modders have prints every in-game hours, you get a massive amount of prints being called at the
						same time, causing lag every in-game hours. This bases itself on the principle of load balancing
						which is explained in the part below.
					</p>
					<h3><span class="mw-headline" id="Tables">Tables</span></h3>
					<p><a href="/wiki/Lua#Tables" class="mw-redirect" title="Lua">Lua tables</a> can be key tables or
						array tables, even if technically they are only key tables.
					</p>
					<h4><span class="mw-headline" id="Array_tables">Array tables</span></h4>
					<p>Array tables only accept integer keys (starting from 1) and the right way to create a proper
						array in <a href="/wiki/Lua_(API)" title="Lua (API)">Lua (API)</a> is with
						<code>table.newarray()</code> in place of <code>{}</code>.
					</p>
					<p>Proper array tables are still tables and will not break code like checking the type to be table.
					</p>
					<p>Trying to access an invalid or non-existant key will throw an error instead of returning
						<code>nil</code> and as such some functions which take an array table in entry might break due
						to the use of proper arrays. If you end up having to change a proper array to a table, you are
						better off using tables directly.
					</p>
					<div class="mw-highlight mw-highlight-lang-lua mw-content-ltr" dir="ltr">
						<pre><span></span><span class="c1">-- bad</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">myArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s2">"entry1"</span><span class="p">,</span>
<span class="w">    </span><span class="s2">"entry2"</span><span class="p">,</span>
<span class="w">    </span><span class="s2">"entry3"</span><span class="p">,</span>
<span class="w">    </span><span class="s2">"entry4"</span><span class="p">,</span>
<span class="p">}</span>
<span class="nb">print</span><span class="p">(</span><span class="nv">myArray</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="w"> </span><span class="c1">-- print second entry</span>

<span class="c1">-- better</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">myArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">table</span><span class="p">.</span><span class="nf">newarray</span><span class="p">(</span>
<span class="w">    </span><span class="s2">"entry1"</span><span class="p">,</span>
<span class="w">    </span><span class="s2">"entry2"</span><span class="p">,</span>
<span class="w">    </span><span class="s2">"entry3"</span><span class="p">,</span>
<span class="w">    </span><span class="s2">"entry4"</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nv">myArray</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="w"> </span><span class="c1">-- print second entry</span>

<span class="c1">-- alternative</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">myArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s2">"entry1"</span><span class="p">,</span>
<span class="w">    </span><span class="s2">"entry2"</span><span class="p">,</span>
<span class="w">    </span><span class="s2">"entry3"</span><span class="p">,</span>
<span class="w">    </span><span class="s2">"entry4"</span><span class="p">,</span>
<span class="p">}</span>
<span class="nv">myArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">table</span><span class="p">.</span><span class="nf">newarray</span><span class="p">(</span><span class="nv">myArray</span><span class="p">)</span><span class="w"> </span><span class="c1">-- transform fake array into proper array</span>
<span class="nb">print</span><span class="p">(</span><span class="nv">myArray</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="w"> </span><span class="c1">-- print second entry</span>
</pre>
					</div>
					<div class="mbox" style="background-color: var(--background-message-warn);">
						<div style="background-color: #ffcc33;"></div>
						<div><span class="mw-default-size" typeof="mw:File"><a href="/wiki/Template:Note"
									title="Template:Note"><img src="/w/images/3/3b/LightBulbYellow.png" decoding="async"
										width="32" height="32" class="mw-file-element"></a></span></div>
						<div>
							<div>Proper array tables can't be saved, meaning you can't use them in <a
									href="/wiki/Mod_data" title="Mod data">mod data</a> or send them in network
								commands.</div>
						</div>
					</div>
					<h4><span class="mw-headline" id="pairs_and_ipairs"><code>pairs</code> and
							<code>ipairs</code></span></h4>
					<p><code>pairs</code> and <code>ipairs</code> are Lua functions which are used to iterate through
						elements in a table (see <a href="/wiki/Lua#Looping_through_tables" class="mw-redirect"
							title="Lua">Looping through tables</a>). However these are slow and it is better to use
						alternatives when available.
					</p>
					<h5><span class="mw-headline" id="Alternatives_to_ipairs">Alternatives to <code>ipairs</code></span>
					</h5>
					<div class="mw-highlight mw-highlight-lang-lua mw-content-ltr" dir="ltr">
						<pre><span></span><span class="kd">local</span><span class="w"> </span><span class="nv">table</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s2">"Hello"</span><span class="p">,</span>
<span class="w">    </span><span class="s2">"World"</span><span class="p">,</span>
<span class="w">    </span><span class="s2">"!"</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1">-- slower:</span>
<span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="p">,</span><span class="w"> </span><span class="nv">v</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">t</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
<span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="nv">v</span><span class="p">)</span>
<span class="kr">end</span>

<span class="c1">-- MUCH faster:</span>
<span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">#</span><span class="nv">t</span><span class="w"> </span><span class="kr">do</span>
<span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">t</span><span class="p">[</span><span class="nv">i</span><span class="p">]</span>
<span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="nv">v</span><span class="p">)</span>
<span class="kr">end</span>
</pre>
					</div>
					<h5><span class="mw-headline" id="Alternatives_to_pairs">Alternatives to <code>pairs</code></span>
					</h5>
					<p>Sadly the alternative way of iterating through a key table is not very pratical and as such
						should be used only when performance is critical. The method involves the use a table alongside
						a proper array.
					</p>
					<div class="mw-highlight mw-highlight-lang-lua mw-content-ltr" dir="ltr">
						<pre><span></span><span class="c1">-- bad</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">lookup</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">[</span><span class="s2">"key1"</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Hello"</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="s2">"key2"</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"World"</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="s2">"key3"</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"!"</span><span class="p">,</span>
<span class="p">}</span>
<span class="kr">for</span><span class="w"> </span><span class="nv">k</span><span class="p">,</span><span class="nv">v</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">lookup</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
<span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="nv">v</span><span class="p">)</span>
<span class="kr">end</span>

<span class="c1">-- better</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">lookup</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">[</span><span class="s2">"key1"</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Hello"</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="s2">"key2"</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"World"</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="s2">"key3"</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"!"</span><span class="p">,</span>
<span class="p">}</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">keys</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">table</span><span class="p">.</span><span class="nf">newarray</span><span class="p">(</span><span class="s2">"key1"</span><span class="p">,</span><span class="s2">"key2"</span><span class="p">,</span><span class="s2">"key3"</span><span class="p">)</span>

<span class="c1">-- iterating through the entries</span>
<span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">#</span><span class="nv">keys</span><span class="w"> </span><span class="kr">do</span>
<span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">keys</span><span class="p">[</span><span class="nv">i</span><span class="p">]</span>
<span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lookup</span><span class="p">[</span><span class="nv">k</span><span class="p">]</span>
<span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="nv">v</span><span class="p">)</span>
<span class="kr">end</span>
</pre>
					</div>
					<h3><span class="mw-headline" id="Generating_randomness">Generating randomness</span></h3>
					<dl>
						<dd><i>Main article: <a href="/wiki/Random" title="Random">Random</a></i></dd>
					</dl>
					<p>The usual way to generate a random number is by using <a
							href="/w/index.php?title=ZombRand&amp;action=edit&amp;redlink=1" class="new"
							title="ZombRand (page does not exist)">ZombRand</a> but it generates a high quality
						randomness which is not necessary at all. Thankfully there is an alternative <a
							href="/wiki/Random" title="Random">Random</a> which is less costly:
					</p>
					<div class="mw-highlight mw-highlight-lang-lua mw-content-ltr" dir="ltr">
						<pre><span></span><span class="c1">-- cache newrandom</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">myRandom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">newrandom</span><span class="p">()</span>

<span class="c1">-- generate a random number</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">myRandom</span><span class="p">:</span><span class="nf">random</span><span class="p">(</span><span class="nv">min</span><span class="p">,</span><span class="nv">max</span><span class="p">)</span>
</pre>
					</div>
					<h3><span class="mw-headline" id="Load_balancing">Load balancing</span></h3>
					<p>A way to increase performances is to reduce how much code you run every ticks. If we continue on
						the example of running code for every zombies every ticks, if you have 5000 zombies loaded for
						the client, <code>OnZombieUpdate</code> will run 5000 times you function every ticks (in reality
						zombies that are not visible are not updated as often as visible ones, but still enough to
						matter). This can be very costly depending on what type of code you're running, even after
						following all the previous tips and tricks on optimization. As such you could run N zombies
						every ticks instead.
					</p>
					<p>Queuing actions and spreading them to be ran on multiple ticks can improve greatly performances.
						As such you could instead of doing a function call, add the call with its parameters in a list
						which every N ticks will run the first operation in the list. This can be adapted in many ways,
						to make sure not too many operations are stacking one after the other for example, or run after
						different time deltas.
					</p>
					<p>This system can be applied for a code which triggers thunder at a specific time in different
						places, by spreading them on different ticks and not create a lag spike.
					</p>
					<h4><span class="mw-headline" id="Example">Example</span></h4>
					<p>The code below updates one zombie per tick, making it very efficient with the default of possibly
						not doing the updates fast enough depending on what you are doing. You can use other methods to
						iterate through N zombies per ticks.
					</p>
					<div class="mw-highlight mw-highlight-lang-lua mw-content-ltr" dir="ltr">
						<pre><span></span><span class="c1">--- Snipet by Albion</span>

<span class="c1">-- cache the zombie list in a local variable when lauching a save</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">zombieList</span>
<span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">OnGameStart</span><span class="p">()</span>
<span class="w">    </span><span class="nv">zombieList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">getPlayer</span><span class="p">():</span><span class="nf">getCell</span><span class="p">():</span><span class="nf">getZombieList</span><span class="p">()</span>
<span class="kr">end</span>
<span class="nv">Events</span><span class="p">.</span><span class="py">OnGameStart</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="nv">OnGameStart</span><span class="p">)</span>

<span class="c1">-- cycle 1 zombie/tick.</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">zeroTick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">OnTick</span><span class="p">(</span><span class="nv">tick</span><span class="p">)</span>
<span class="w">    </span><span class="c1">-- next zombie</span>
<span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">zombieIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tick</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">zeroTick</span>
<span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">zombieList</span><span class="p">:</span><span class="nf">size</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nv">zombieIndex</span><span class="w"> </span><span class="kr">then</span>
<span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">zombie</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">zombieList</span><span class="p">:</span><span class="nf">get</span><span class="p">(</span><span class="nv">i</span><span class="p">)</span>
<span class="w">        </span><span class="c1">-- run code for this zombie</span>
<span class="w">    </span><span class="kr">else</span>
<span class="w">        </span><span class="nv">zeroTick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tick</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="kr">end</span>
<span class="kr">end</span>

<span class="nv">Events</span><span class="p">.</span><span class="py">OnTick</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="nv">OnTick</span><span class="p">)</span>
</pre>
					</div>
					<h3><span class="mw-headline" id="Benchmarking">Benchmarking</span></h3>
					<p>The best way to determine what is faster to use for your code is simply benchmark it which
						involves counting how fast the code runs. This can be applied to small code snipets or directly
						to major parts of your code to see which part takes the longest to run.
					</p>
					<p>To determine the time delta between two operations, you can use the functions
						<code>GameTime.getServerTime</code> which outputs the time in <b>nanoseconds</b>:
					</p>
					<div class="mw-highlight mw-highlight-lang-lua mw-content-ltr" dir="ltr">
						<pre><span></span><span class="c1">-- initialize getTime method</span>
<span class="nv">GameTime</span><span class="p">.</span><span class="nf">setServerTimeShift</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="c1">-- necessary to be able to use the following function</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">getTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">GameTime</span><span class="p">.</span><span class="py">getServerTime</span><span class="w"> </span><span class="c1">-- cache the function to save some overhead</span>

<span class="c1">-- get the current time</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">currentTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">getTime</span><span class="p">()</span>

<span class="c1">-- calculate the time delta since the last getTime</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">timeDelta</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">getTime</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">currentTime</span>

<span class="c1">-- alternative with worse precision to getting the current time</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">currentTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">os.time</span><span class="p">()</span>
</pre>
					</div>
					<h4><span class="mw-headline" id="Example_2">Example</span></h4>
					<p>Here's an example of what benchmarking functions look like to benchmark code snipets or
						functions:
					</p>
					<div class="mw-highlight mw-highlight-lang-lua mw-content-ltr" dir="ltr">
						<pre><span></span><span class="c1">-- initialize getTime method</span>
<span class="nv">GameTime</span><span class="p">.</span><span class="nf">setServerTimeShift</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="c1">-- necessary to be able to use the following function</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">getTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">GameTime</span><span class="p">.</span><span class="py">getServerTime</span><span class="w"> </span><span class="c1">-- cache the function to save some overhead</span>

<span class="c1">-- initialize variables</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">totalTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">calls</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>

<span class="c1">---Run the function and calculate the time it took</span>
<span class="c1">---@param fct function</span>
<span class="kr">function</span><span class="w"> </span><span class="nf">benchmark</span><span class="p">(</span><span class="nv">fct</span><span class="p">,...)</span><span class="w"> </span><span class="c1">-- "..." is used for optional variables, these will be used in your fct</span>
<span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">getTime</span><span class="p">()</span><span class="w"> </span><span class="c1">-- get start time</span>
<span class="w">    </span><span class="nf">fct</span><span class="p">(...)</span><span class="w"> </span><span class="c1">-- run your function</span>
<span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">deltaTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">getTime</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">start</span><span class="w"> </span><span class="c1">-- get time delta to run function</span>

<span class="w">    </span><span class="nv">totalTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">totalTime</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">deltaTime</span>
<span class="w">    </span><span class="nv">calls</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">calls</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
<span class="kr">end</span>

<span class="c1">---Print the benchmarking results in the console</span>
<span class="kr">function</span><span class="w"> </span><span class="nf">printBenchmark</span><span class="p">()</span>
<span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">calls</span><span class="w"> </span><span class="o">~=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">then</span>
<span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">"Average time taken: "</span><span class="p">,</span><span class="w"> </span><span class="nv">totalTime</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nv">calls</span><span class="p">)</span>
<span class="w">        </span><span class="nf">resetBenchmark</span><span class="p">()</span>
<span class="w">    </span><span class="kr">else</span>
<span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">"Need to benchmark at least once"</span><span class="p">)</span>
<span class="w">    </span><span class="kr">end</span>
<span class="kr">end</span>

<span class="c1">---Reset the benchmark</span>
<span class="kr">function</span><span class="w"> </span><span class="nf">resetBenchmark</span><span class="p">()</span>
<span class="w">    </span><span class="nv">totalTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="nv">calls</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="kr">end</span>
</pre>
					</div>
					<p>An example usage of such functions:
					</p>
					<div class="mw-highlight mw-highlight-lang-lua mw-content-ltr" dir="ltr">
						<pre><span></span><span class="c1">-- creating an example function</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">variable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
<span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">myFunction</span><span class="p">(</span><span class="nv">v</span><span class="p">)</span>
<span class="w">    </span><span class="nv">variable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">variable</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">v</span>
<span class="kr">end</span>

<span class="c1">-- run the benchmark 100 times for an average time</span>
<span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="w"> </span><span class="kr">do</span>
<span class="w">  </span><span class="nf">benchmark</span><span class="p">(</span><span class="nv">myFunction</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="kr">end</span>

<span class="nf">printBenchmark</span><span class="p">()</span>
</pre>
					</div>
				</section>
				<h2 class="citizen-section-heading"><span
						class="citizen-section-indicator citizen-ui-icon mw-ui-icon-wikimedia-collapse"></span><span
						class="mw-headline" id="Modeling_and_texturing">Modeling and texturing</span></h2>
				<section class="citizen-section" id="citizen-section-2">
					<p>Due to the nature of game being isometric with a view which will tend to be far from objects, it
						is advised to take into in your modeling and texturing the fact most of the time the player will
						not have a camera close enough to the player to see details. And even in the cases where the
						camera is close to the model, it's usually not enough to see proper details on your textures and
						models.
					</p>
					<h3><span class="mw-headline" id="Polycount">Polycount</span></h3>
					<p>The best way to optimize your models is to keep the <a rel="nofollow" class="external text"
							href="http://wiki.polycount.com/wiki/Polygon_Count">polycount</a> as low as possible,
						especially in the cases where it's not needed. For example, you will not have any use for a
						detailed earring since it will be way too small to see any kind of detail on it.
					</p>
					<p>A great way to add detail to a model is to utilize the texture. You can use drawing techniques to
						create the illusion of topography for the player. Take this example from <a rel="nofollow"
							class="external text" href="https://steamcommunity.com/id/palsj">PALSJ</a> adding detail on
						the model via texturing instead of making a detailed model:
					</p>
					<figure class="mw-halign-center" typeof="mw:File"><a href="/wiki/File:Optimization_lowPoly.png"
							class="mw-file-description"><img
								src="/w/images/thumb/a/aa/Optimization_lowPoly.png/600px-Optimization_lowPoly.png"
								decoding="async" width="600" height="397" class="mw-file-element"
								srcset="/w/images/thumb/a/aa/Optimization_lowPoly.png/900px-Optimization_lowPoly.png 1.5x, /w/images/a/aa/Optimization_lowPoly.png 2x"></a>
						<figcaption></figcaption>
					</figure>
					<h3><span class="mw-headline" id="Texture_size_limit">Texture size limit</span></h3>
					<p>These rules apply to texturing too, because while you could have 4K textures, you really do not
						have a need for it for every game assets. See the example below from <a rel="nofollow"
							class="external text" href="https://forum.game-guru.com/thread/222504">a guide to texture
							optimization</a>, in Project Zomboid the camera will be zoomed so far back most of the times
						that it will be impossible to notice the texture size and it's probably best to keep it below
						256x256.
					</p>
					<figure class="mw-halign-center" typeof="mw:File"><a
							href="/wiki/File:Optimization_reducing_texture_size.jpg" class="mw-file-description"><img
								src="/w/images/thumb/7/78/Optimization_reducing_texture_size.jpg/600px-Optimization_reducing_texture_size.jpg"
								decoding="async" width="600" height="355" class="mw-file-element"
								srcset="/w/images/thumb/7/78/Optimization_reducing_texture_size.jpg/900px-Optimization_reducing_texture_size.jpg 1.5x, /w/images/thumb/7/78/Optimization_reducing_texture_size.jpg/1200px-Optimization_reducing_texture_size.jpg 2x"></a>
						<figcaption></figcaption>
					</figure>
					<p>The reality is that it's practically impossible to see the detail and there's even cases where
						too much detail will make your texture look worse. Take the example made by <a rel="nofollow"
							class="external text" href="https://steamcommunity.com/id/LazySpongie">spongie</a>
						showcasing how the amount of detail can make a texture confusing to look at due to the amount of
						detail and how reducing the detail for Project Zomboid can improve the visual clarity of it.
					</p>
					<figure class="mw-halign-center" typeof="mw:File"><a href="/wiki/File:Optimization_hairTexture.png"
							class="mw-file-description"><img
								src="/w/images/thumb/8/89/Optimization_hairTexture.png/600px-Optimization_hairTexture.png"
								decoding="async" width="600" height="244" class="mw-file-element"
								srcset="/w/images/thumb/8/89/Optimization_hairTexture.png/900px-Optimization_hairTexture.png 1.5x, /w/images/thumb/8/89/Optimization_hairTexture.png/1200px-Optimization_hairTexture.png 2x"></a>
						<figcaption></figcaption>
					</figure>
					<p>You can take the <a rel="nofollow" class="external text"
							href="https://discord.com/channels/136501320340209664/869327724504842330/993893080694530128">official
							suggestion from The Indie Stone</a> about texture size for Project Zomboid:
					</p>
					<blockquote>
						<p>Small request from Spiffo-on-high for those who make models for PZ mods.
						</p>
						<p>Oversized textures for weapons/clothing/vehicles etc within mods are currently becoming more
							of an issue with mod users - sometimes causing memory leaks and performance issues when mods
							stack up.
						</p>
						<p>Please try to avoid using model textures that are larger than the ones used in Vanilla PZ for
							equivalent items.
							Generally speaking vehicles are 512x512.
							Body and clothing textures are 256x256.
							Weapons are generally 128x128 - but vary due to the variation in sizes.
							Hats are 128x128.
						</p>
						<p>Also in the same ballpark: using tricounts higher than vanilla can also have negative effects
							on performance too.
						</p>
						<p>We will endeavour to help this situation along code-side, but in the meantime if people could
							try to keep within these limits we would be super-grateful.
						</p>
					</blockquote>
					<h3><span class="mw-headline" id="UV_mapping">UV mapping</span></h3>
					<p>The best way to do UV mapping is to fit as much texture and have as little of free space on the
						UV map as possible. This will reduce file size and can also help you in texturing on the model.
						Take this example from <a rel="nofollow" class="external text"
							href="https://steamcommunity.com/profiles/76561198046849708">Nik</a> on how you should
						optimize your UV map:
					</p>
					<figure class="mw-halign-center" typeof="mw:File"><a href="/wiki/File:Optimization_UVmapping.png"
							class="mw-file-description"><img
								src="/w/images/thumb/b/b1/Optimization_UVmapping.png/600px-Optimization_UVmapping.png"
								decoding="async" width="600" height="369" class="mw-file-element"
								srcset="/w/images/thumb/b/b1/Optimization_UVmapping.png/900px-Optimization_UVmapping.png 1.5x, /w/images/thumb/b/b1/Optimization_UVmapping.png/1200px-Optimization_UVmapping.png 2x"></a>
						<figcaption></figcaption>
					</figure>
				</section>
				<h2 class="citizen-section-heading"><span
						class="citizen-section-indicator citizen-ui-icon mw-ui-icon-wikimedia-collapse"></span><span
						class="mw-headline" id="See_also">See also</span></h2>
				<section class="citizen-section" id="citizen-section-3">
					<p>You can refer to these for more detail on performances impacts. Some of the points in these are
						explained in the guide:
					</p>
					<ul>
						<li><a rel="nofollow" class="external text"
								href="https://github.com/demiurgeQuantified/PZModdingGuides/blob/main/guides/Optimisation.md">Lua
								optimization guide</a> by Albion</li>
					</ul>
				</section>
				<h2 class="citizen-section-heading"><span
						class="citizen-section-indicator citizen-ui-icon mw-ui-icon-wikimedia-collapse"></span><span
						class="mw-headline" id="Navigation">Navigation</span></h2>
				<section class="citizen-section" id="citizen-section-4">
					<div class="navbox theme-blue" style="clear: both;">
						<div class="mw-customtoggle-navbox-modding mw-customtoggle" title="Show / Hide"
							aria-expanded="true" tabindex="0"><a href="/wiki/Category:Modding"
								title="Category:Modding">Modding</a></div>
						<div class="mw-collapsible mw-collapsed mw-made-collapsible"
							id="mw-customcollapsible-navbox-modding" style="display: none;">
							<div class="navbox-section">
								<div>
									<div class="navbox-item">
										<div>
											<p><a href="/wiki/Modding#Communities" title="Modding">Modding</a> community
											</p>
										</div>
										<div>
											<p><a href="/wiki/Discord" title="Discord">The Indie Stone Discord</a> • <a
													href="/wiki/Modding_projects" title="Modding projects">Modding
													projects</a> • <a href="/wiki/Unofficial_Mapping_Discord"
													class="mw-redirect" title="Unofficial Mapping Discord">Unofficial PZ
													Mapping Discord</a> • <a href="/wiki/Unofficial_Modding_Discord"
													class="mw-redirect" title="Unofficial Modding Discord">PZ Modding
													Community</a>
											</p>
										</div>
									</div>
									<div class="navbox-item">
										<div>
											<p><a href="/wiki/Modding#Modding_guides" title="Modding">Modding</a> guides
											</p>
										</div>
										<div>
											<p><a href="/wiki/Common_modding_issues"
													title="Common modding issues">Common modding issues</a> • <a
													href="/wiki/Creating_a_clothing_mod"
													title="Creating a clothing mod">Creating a clothing mod</a> • <a
													href="/wiki/Creating_a_flier_mod"
													title="Creating a flier mod">Creating a flier mod</a> • <a
													href="/wiki/Creating_a_hair_mod"
													title="Creating a hair mod">Creating a hair mod</a> • <a
													href="/wiki/Creating_a_trait_mod"
													title="Creating a trait mod">Creating a trait mod</a> • <a
													href="/wiki/Creating_custom_animations"
													title="Creating custom animations">Creating custom animations</a> •
												<a href="/wiki/Creating_custom_voices"
													title="Creating custom voices">Creating custom voices</a> • <a
													href="/wiki/Creating_dynamic_radio_channels"
													title="Creating dynamic radio channels">Creating dynamic radio
													channels</a> • <a href="/wiki/Decompiling_game_code"
													title="Decompiling game code">Decompiling game code</a> • <a
													href="/wiki/File_formats" title="File formats">File formats</a> • <a
													href="/wiki/Game_files" title="Game files">Game files</a> • <a
													href="/wiki/Getting_started_with_modding"
													title="Getting started with modding">Getting started with
													modding</a> • <a href="/wiki/Java" title="Java">Java</a> • <a
													href="/wiki/Lua_(language)" title="Lua (language)">Lua</a> • <a
													class="mw-selflink selflink">Mod optimization</a> • <a
													href="/wiki/Mod_structure" title="Mod structure">Mod structure</a> •
												<a href="/wiki/Modeling" title="Modeling">Modeling</a> • <a
													href="/wiki/Mods" title="Mods">Mods</a> • <a href="/wiki/Rendering"
													title="Rendering">Rendering</a> • <a
													href="/wiki/Resolving_problems_with_mods"
													title="Resolving problems with mods">Resolving problems with
													mods</a> • <a href="/wiki/Testing_mods_in_multiplayer"
													title="Testing mods in multiplayer">Testing mods in multiplayer</a>
												• <a href="/wiki/Uploading_mods" title="Uploading mods">Uploading
													mods</a>
											</p>
										</div>
									</div>
									<div class="navbox-item">
										<div>
											<p><a href="/wiki/Modding" title="Modding">Modding</a> resources
											</p>
										</div>
										<div>
											<p><a href="/wiki/App_ID" title="App ID">App ID</a> • <a
													href="/wiki/Animation" title="Animation">Animation</a> • <a
													href="/wiki/BBCode" title="BBCode">BBCode</a> • <a
													href="/wiki/Food_types" title="Food types">Food types</a> • <a
													href="/wiki/Item_tag" title="Item tag">Item tag</a> • <a
													href="/wiki/Mod.info" title="Mod.info">mod.info</a> • <a
													href="/wiki/Networking" title="Networking">Networking</a> • <a
													href="/wiki/Startup_parameters" title="Startup parameters">Startup
													parameters</a> • <a href="/wiki/Translations"
													title="Translations">Translations</a> • <a href="/wiki/Workshop.txt"
													title="Workshop.txt">workshop.txt</a> • <a href="/wiki/Workshop_ID"
													title="Workshop ID">Workshop ID</a>
											</p>
										</div>
									</div>
									<div class="navbox-item">
										<div>
											<p><a href="/wiki/Scripts" title="Scripts">Scripts</a>
											</p>
										</div>
										<div>
											<p><a href="/wiki/CraftRecipe" title="CraftRecipe">craftRecipe</a> • <a
													href="/wiki/Evolvedrecipe_(scripts)"
													title="Evolvedrecipe (scripts)">Evolvedrecipe</a> • <a
													href="/wiki/Fixing_(scripts)" title="Fixing (scripts)">Fixing</a> •
												<a href="/wiki/Fluid_(scripts)" title="Fluid (scripts)">Fluid</a> • <a
													href="/wiki/Item_(scripts)" title="Item (scripts)">Item</a> • <a
													href="/wiki/Model_(scripts)" title="Model (scripts)">Model</a> • <a
													href="/wiki/Multistagebuild_(scripts)"
													title="Multistagebuild (scripts)">Multistagebuild</a> • <a
													href="/wiki/Recipe_(scripts)" title="Recipe (scripts)">Recipe</a> •
												<a href="/wiki/Sandbox_options" title="Sandbox options">Sandbox
													options</a> • <a href="/wiki/Sound_(scripts)"
													title="Sound (scripts)">Sound</a> • <a
													href="/wiki/TimedAction_(scripts)"
													title="TimedAction (scripts)">TimedAction</a> • <a
													href="/wiki/Vehicle_(scripts)" title="Vehicle (scripts)">Vehicle</a>
											</p>
										</div>
									</div>
									<div class="navbox-item">
										<div>
											<p><a href="/wiki/Lua_(API)" title="Lua (API)">Lua (API)</a>
											</p>
										</div>
										<div>
											<p><a href="/wiki/Decompiling_game_code"
													title="Decompiling game code">Decompiling game code</a> • <a
													href="/wiki/Game_time" title="Game time">Game time</a> • <a
													href="/wiki/Java_object" title="Java object">Java object</a> • <a
													href="/wiki/JavaDocs" title="JavaDocs">JavaDocs</a> • <a
													href="/wiki/Keyboard" title="Keyboard">Keyboard</a> • <a
													href="/wiki/LuaDocs" title="LuaDocs">LuaDocs</a> • <a
													href="/wiki/Lua_event" title="Lua event">Lua event</a> • <a
													href="/wiki/Lua_object" title="Lua object">Lua object</a> • <a
													href="/wiki/Mod_data" title="Mod data">Mod data</a> • <a
													href="/wiki/PersistentOutfitID"
													title="PersistentOutfitID">PersistentOutfitID</a> • <a
													href="/wiki/Procedural_distributions"
													title="Procedural distributions">Procedural distributions</a> • <a
													href="/wiki/Remote_debugging" title="Remote debugging">Remote
													debugging</a> • <a href="/wiki/Umbrella_(modding)"
													title="Umbrella (modding)">Umbrella</a>
											</p>
										</div>
									</div>
									<div class="navbox-item">
										<div>
											<p><a href="/wiki/Mapping" title="Mapping">Mapping</a>
											</p>
										</div>
										<div>
											<p><a href="/wiki/Adding_new_tiles" title="Adding new tiles">Adding new
													tiles</a> • <a href="/wiki/BuildingEd"
													title="BuildingEd">BuildingEd</a> • <a href="/wiki/Map.info"
													title="Map.info">map.info</a> • <a
													href="/wiki/Room_definitions_and_item_spawns"
													title="Room definitions and item spawns">Room definitions and item
													spawns</a> • <a href="/wiki/Tile_properties"
													title="Tile properties">Tile properties</a> • <a
													href="/wiki/Tiledefs_used_by_mods"
													title="Tiledefs used by mods">Tiledefs used by mods</a> • <a
													href="/wiki/TileZed" title="TileZed">TileZed</a> • <a
													href="/wiki/Vehicle_zones" title="Vehicle zones">Vehicle zones</a> •
												<a href="/wiki/WorldEd" title="WorldEd">WorldEd</a>
											</p>
										</div>
									</div>
									<div class="navbox-item">
										<div>
											<p><a href="/wiki/Animation" title="Animation">Animation</a>
											</p>
										</div>
										<div>
											<p><a href="/wiki/AnimNodes" class="mw-redirect"
													title="AnimNodes">AnimNode</a> • <a href="/wiki/Dislaik_rig"
													title="Dislaik rig">Dislaik rig</a> • <a href="/wiki/Mystery_rig"
													title="Mystery rig">Mystery rig</a> • <a
													href="/wiki/Paddlefruit_rig" title="Paddlefruit rig">Paddlefruit
													rig</a> • <a href="/wiki/Throttlekitty_rig"
													title="Throttlekitty rig">Throttlekitty rig</a> • <a
													href="/wiki/PerformingAction"
													title="PerformingAction">PerformingAction</a>
											</p>
										</div>
									</div>
									<div class="navbox-item">
										<div>
											<p><a href="/wiki/Modding" title="Modding">Modding</a> tools
											</p>
										</div>
										<div>
											<p><a href="/wiki/Animation_Viewer" title="Animation Viewer">Animation
													Viewer</a> • <a href="/wiki/Attachment_Editor"
													title="Attachment Editor">Attachment Editor</a> • <a
													href="/wiki/BuildingEd" title="BuildingEd">BuildingEd</a> • <a
													href="/wiki/CartoZed" title="CartoZed">CartoZed</a> • <a
													href="/wiki/Imgui" title="Imgui">Imgui</a> • <a
													href="/wiki/IntelliJ_IDEA" title="IntelliJ IDEA">IntelliJ IDEA</a> •
												<a href="/wiki/ItemZed" title="ItemZed">ItemZed</a><sup
													style="font-weight: bold; color: red">Outdated</sup> • <a
													href="/wiki/LootZed" title="LootZed">LootZed</a> • <a
													href="/wiki/Project_Zomboid_Modding_Tools"
													title="Project Zomboid Modding Tools">Project Zomboid Modding
													Tools</a> • <a href="/wiki/Remote_debugging"
													title="Remote debugging">Remote debugging</a> • <a
													href="/wiki/TileZed" title="TileZed">TileZed</a> • <a
													href="/wiki/TranslationZed"
													title="TranslationZed">TranslationZed</a><sup
													style="font-weight: bold; color: red">Outdated</sup> • <a
													href="/wiki/Visual_Studio_Code" title="Visual Studio Code">Visual
													Studio Code</a> • <a href="/wiki/WordZed"
													title="WordZed">WordZed</a>
											</p>
										</div>
									</div>
									<div class="navbox-item">
										<div>
											<p><a href="/wiki/Modding_projects" title="Modding projects">Modding
													projects</a>
											</p>
										</div>
										<div>
											<p><a href="/wiki/Azakaela%27s_Modding_Tools"
													title="Azakaela's Modding Tools">Azakaela's Modding Tools</a> • <a
													href="/wiki/B42_Map" title="B42 Map">B42 Map</a> • <a
													href="/wiki/Background_Framework"
													title="Background Framework">Background Framework</a> • <a
													href="/wiki/Beautiful_Java" title="Beautiful Java">Beautiful
													Java</a> • <a href="/wiki/BeeArr_tools" title="BeeArr tools">BeeArr
													tools</a> • <a href="/wiki/Community_Modding_Projects"
													title="Community Modding Projects">Community Modding Projects</a> •
												<a href="/wiki/DebugMenu" title="DebugMenu">DebugMenu</a> • <a
													href="/wiki/Dislaik_rig" title="Dislaik rig">Dislaik rig</a> • <a
													href="/wiki/Doggy%27s_Library" title="Doggy's Library">Doggy's
													Library</a> • <a href="/wiki/DOME" title="DOME">DOME</a> • <a
													href="/wiki/Easy_Distributions_API"
													title="Easy Distributions API">Easy Distributions API</a> • <a
													href="/wiki/Elyon_Lib" title="Elyon Lib">Elyon Lib</a> • <a
													href="/wiki/Events_Plus_API" title="Events Plus API">Events Plus
													API</a> • <a href="/wiki/FrameworkZ"
													title="FrameworkZ">FrameworkZ</a> • <a href="/wiki/JB_ASSUtils"
													title="JB ASSUtils">JB ASSUtils</a> • <a
													href="/wiki/JB_Max_Capacity_Override"
													title="JB Max Capacity Override">JB Max Capacity Override</a> • <a
													href="/wiki/KATTAJ1_Clothes_Core"
													title="KATTAJ1 Clothes Core">KATTAJ1 Clothes Core</a> • <a
													href="/wiki/Leaf" title="Leaf">Leaf</a> • <a
													href="/wiki/Location_Identifier_Framework"
													title="Location Identifier Framework">Location Identifier
													Framework</a> • <a href="/wiki/LuaDocs" title="LuaDocs">LuaDocs</a>
												• <a href="/wiki/Magazine_API" title="Magazine API">Magazine API</a> •
												<a href="/wiki/Map_Mover" title="Map Mover">Map Mover</a> • <a
													href="/wiki/Mod_Update_and_Alert_System"
													title="Mod Update and Alert System">Mod Update and Alert System</a>
												• <a href="/wiki/Modix" title="Modix">Modix</a> • <a
													href="/wiki/Moodle_Framework" title="Moodle Framework">Moodle
													Framework</a> • <a href="/wiki/Moodles_in_lua"
													title="Moodles in lua">Moodles in lua</a> • <a
													href="/wiki/Mystery_rig" title="Mystery rig">Mystery rig</a> • <a
													href="/wiki/Paddlefruit_rig" title="Paddlefruit rig">Paddlefruit
													rig</a> • <a href="/wiki/Pq_tools" title="Pq tools">pq tools</a> •
												<a href="/wiki/Project_Zomboid_Community_Modding_template"
													title="Project Zomboid Community Modding template">Project Zomboid
													Community Modding template</a> • <a
													href="/wiki/Project_Zomboid_Loot_Analyzer"
													title="Project Zomboid Loot Analyzer">Project Zomboid Loot
													Analyzer</a> • <a href="/wiki/Project_Zomboid_Script_Support"
													title="Project Zomboid Script Support">Project Zomboid Script
													Support</a> • <a href="/wiki/Pythoid" title="Pythoid">Pythoid</a> •
												<a href="/wiki/PZ_AI_agent" title="PZ AI agent">PZ AI agent</a> • <a
													href="/wiki/PZEventDoc" title="PZEventDoc">PZEventDoc</a> • <a
													href="/wiki/PZEventStubs" title="PZEventStubs">PZEventStubs</a> • <a
													href="/wiki/Pzmap2dzi" title="Pzmap2dzi">pzmap2dzi</a> • <a
													href="/wiki/PZTools" title="PZTools">PZTools</a> • <a
													href="/wiki/Real_Life_Map" title="Real Life Map">Real Life Map</a> •
												<a href="/wiki/Starlit_Library" title="Starlit Library">Starlit
													Library</a> • <a href="/wiki/Steam_Uploader"
													title="Steam Uploader">Steam Uploader</a> • <a
													href="/wiki/TchernoLib" title="TchernoLib">TchernoLib</a> • <a
													href="/wiki/Throttlekitty_rig"
													title="Throttlekitty rig">Throttlekitty rig</a> • <a
													href="/wiki/Umbrella_(modding)"
													title="Umbrella (modding)">Umbrella</a> • <a
													href="/wiki/Unofficial_JavaDocs_(Build_41)"
													title="Unofficial JavaDocs (Build 41)">Unofficial JavaDocs (Build
													41)</a> • <a href="/wiki/Unofficial_JavaDocs_(Build_42)"
													title="Unofficial JavaDocs (Build 42)">Unofficial JavaDocs (Build
													42)</a> • <a href="/wiki/Unofficial_Mapping_Tools"
													title="Unofficial Mapping Tools">Unofficial Mapping Tools</a> • <a
													href="/wiki/Vanilla_Map_Export" title="Vanilla Map Export">Vanilla
													Map Export</a> • <a href="/wiki/Wiki_That!" title="Wiki That!">Wiki
													That!</a> • <a href="/wiki/Wiki_Tools" title="Wiki Tools">Wiki
													Tools</a> • <a href="/wiki/Zed_Script" title="Zed Script">Zed
													Script</a> • <a href="/wiki/Zombie_Layer_Replacer"
													title="Zombie Layer Replacer">Zombie Layer Replacer</a> • <a
													href="/wiki/Zomboid_Decompiler" title="Zomboid Decompiler">Zomboid
													Decompiler</a> • <a href="/wiki/ZomboidAssetConverter"
													title="ZomboidAssetConverter">ZomboidAssetConverter</a> • <a
													href="/wiki/Zomdroid" title="Zomdroid">Zomdroid</a> • <a
													href="/wiki/ZBundler" title="ZBundler">ZBundler</a>
											</p>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="toggle mw-customtoggle-navbox-modding mw-customtoggle" title="Show / Hide"
							aria-expanded="true" tabindex="0"></div>
					</div>
					<!-- 
NewPP limit report
Cached time: 20260112105523
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc]
CPU time usage: 0.276 seconds
Real time usage: 3.378 seconds
Preprocessor visited node count: 5215/1000000
Post‐expand include size: 46315/2097152 bytes
Template argument size: 32562/2097152 bytes
Highest expansion depth: 19/100
Expensive parser function count: 23/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 46083/5000000 bytes
Lua time usage: 0.030/7 seconds
Lua virtual size: 5107712/52428800 bytes
Lua estimated memory usage: 0 bytes
-->
					<!--
Transclusion expansion time report (%,ms,calls,template)
100.00% 3275.348      1 -total
 97.61% 3197.016     99 Template:Yesno
 96.89% 3173.431     23 Template:CodeSnip
  1.89%   61.909     35 Template:Ll
  1.31%   42.906      1 Template:Navbar_modding
  1.29%   42.232      1 Template:Navbar/sandbox
  0.56%   18.469      1 Template:LangSwitch
  0.49%   16.138     17 Template:LangSwitch/core
  0.47%   15.461      3 Template:Retrieved
  0.45%   14.691      1 Template:Navbox_modding
-->

					<!-- Saved in parser cache with key pzwiki2:pcache:idhash:131103-0!canonical and timestamp 20260112105523 and revision id 1310397. Rendering was triggered because: page-view
 -->
				</section>
			</div>
			<div class="printfooter" data-nosnippet="">Retrieved from "<a dir="ltr"
					href="https://pzwiki.net/w/index.php?title=Mod_optimization&amp;oldid=1310397">https://pzwiki.net/w/index.php?title=Mod_optimization&amp;oldid=1310397</a>"
			</div>
		</div>
	</div>

	<div class="citizen-page-sidebar">
		<nav id="citizen-sidebar-lastmod" class="citizen-menu ">
			<div class="citizen-menu__heading">
				Last modified
			</div>
			<div class="citizen-menu__content">

				<ul class="citizen-menu__content-list">
					<li id="lm-time" class="mw-list-item"><a data-mw="interface" id="citizen-lastmod-relative"
							href="/w/index.php?title=Mod_optimization&amp;diff="
							title="This page was last edited on 5 January 2026, at 23:15."
							data-timestamp="1767654957"><span
								class="citizen-ui-icon mw-ui-icon-history mw-ui-icon-wikimedia-history"></span><span>1
								week ago</span></a></li>

				</ul>

			</div>
		</nav>

		<div id="citizen-toc" class="citizen-toc citizen-dropdown">
			<details class="citizen-dropdown-details">
				<summary class="citizen-dropdown-summary" title="Contents" aria-details="mw-panel-toc">
					<span class="citizen-ui-icon mw-ui-icon-wikimedia-listBullet"></span>
					<span>Contents</span>
				</summary>
			</details>
			<nav id="mw-panel-toc" class="citizen-toc-card citizen-menu__card" role="navigation"
				aria-labelledby="mw-panel-toc-label">
				<div class="citizen-menu__card-backdrop"></div>
				<div class="citizen-menu__card-content">
					<a class="citizen-toc-top citizen-toc-link" title="" href="#top" role="button">
						<div class="citizen-ui-icon mw-ui-icon-first mw-ui-icon-wikimedia-first"></div>
						<div class="citizen-toc-text">Back to top</div>
					</a>
					<div class="citizen-menu__heading">Contents</div>
					<ul class="citizen-toc-contents" id="mw-panel-toc-list">
						<li id="toc-Lua_(API)" class="citizen-toc-list-item citizen-toc-level-1">
							<a class="citizen-toc-link" href="#Lua_(API)" role="button">
								<div class="citizen-toc-indicator"></div>
								<div class="citizen-toc-content">
									<div class="citizen-toc-text">
										<span class="citizen-toc-numb">1</span>
										<span class="citizen-toc-heading">Lua (API)</span>
									</div>

								</div>
							</a>

							<button aria-controls="toc-Lua_(API)-sublist" class="citizen-toc-toggle"
								aria-expanded="false">
								<span class="citizen-ui-icon mw-ui-icon-wikimedia-collapse"></span>
								<span></span>
							</button>

							<ul id="toc-Lua_(API)-sublist" class="citizen-toc-list">
								<li id="toc-Don't_need_it?_Don't_run_it"
									class="citizen-toc-list-item citizen-toc-level-2">
									<a class="citizen-toc-link" href="#Don't_need_it?_Don't_run_it" role="button">
										<div class="citizen-toc-indicator"></div>
										<div class="citizen-toc-content">
											<div class="citizen-toc-text">
												<span class="citizen-toc-numb">1.1</span>
												<span class="citizen-toc-heading">Don't need it? Don't run it</span>
											</div>

										</div>
									</a>

									<ul id="toc-Don't_need_it?_Don't_run_it-sublist" class="citizen-toc-list">
										<li id="toc-Examples" class="citizen-toc-list-item citizen-toc-level-3">
											<a class="citizen-toc-link" href="#Examples" role="button">
												<div class="citizen-toc-indicator"></div>
												<div class="citizen-toc-content">
													<div class="citizen-toc-text">
														<span class="citizen-toc-numb">1.1.1</span>
														<span class="citizen-toc-heading">Examples</span>
													</div>

												</div>
											</a>

											<ul id="toc-Examples-sublist" class="citizen-toc-list">
											</ul>
										</li>
									</ul>
								</li>
								<li id="toc-Local,_not_global" class="citizen-toc-list-item citizen-toc-level-2">
									<a class="citizen-toc-link" href="#Local,_not_global" role="button">
										<div class="citizen-toc-indicator"></div>
										<div class="citizen-toc-content">
											<div class="citizen-toc-text">
												<span class="citizen-toc-numb">1.2</span>
												<span class="citizen-toc-heading">Local, not global</span>
											</div>

										</div>
									</a>

									<ul id="toc-Local,_not_global-sublist" class="citizen-toc-list">
									</ul>
								</li>
								<li id="toc-Caching" class="citizen-toc-list-item citizen-toc-level-2">
									<a class="citizen-toc-link" href="#Caching" role="button">
										<div class="citizen-toc-indicator"></div>
										<div class="citizen-toc-content">
											<div class="citizen-toc-text">
												<span class="citizen-toc-numb">1.3</span>
												<span class="citizen-toc-heading">Caching</span>
											</div>

										</div>
									</a>

									<ul id="toc-Caching-sublist" class="citizen-toc-list">
										<li id="toc-Simple_caching_within_a_function"
											class="citizen-toc-list-item citizen-toc-level-3">
											<a class="citizen-toc-link" href="#Simple_caching_within_a_function"
												role="button">
												<div class="citizen-toc-indicator"></div>
												<div class="citizen-toc-content">
													<div class="citizen-toc-text">
														<span class="citizen-toc-numb">1.3.1</span>
														<span class="citizen-toc-heading">Simple caching within a
															function</span>
													</div>

												</div>
											</a>

											<ul id="toc-Simple_caching_within_a_function-sublist"
												class="citizen-toc-list">
											</ul>
										</li>
										<li id="toc-Caching_within_the_core_file"
											class="citizen-toc-list-item citizen-toc-level-3">
											<a class="citizen-toc-link" href="#Caching_within_the_core_file"
												role="button">
												<div class="citizen-toc-indicator"></div>
												<div class="citizen-toc-content">
													<div class="citizen-toc-text">
														<span class="citizen-toc-numb">1.3.2</span>
														<span class="citizen-toc-heading">Caching within the core
															file</span>
													</div>

												</div>
											</a>

											<ul id="toc-Caching_within_the_core_file-sublist" class="citizen-toc-list">
											</ul>
										</li>
									</ul>
								</li>
								<li id="toc-The_less_function_calls,_the_better"
									class="citizen-toc-list-item citizen-toc-level-2">
									<a class="citizen-toc-link" href="#The_less_function_calls,_the_better"
										role="button">
										<div class="citizen-toc-indicator"></div>
										<div class="citizen-toc-content">
											<div class="citizen-toc-text">
												<span class="citizen-toc-numb">1.4</span>
												<span class="citizen-toc-heading">The less function calls, the
													better</span>
											</div>

										</div>
									</a>

									<ul id="toc-The_less_function_calls,_the_better-sublist" class="citizen-toc-list">
										<li id="toc-math_equivalents" class="citizen-toc-list-item citizen-toc-level-3">
											<a class="citizen-toc-link" href="#math_equivalents" role="button">
												<div class="citizen-toc-indicator"></div>
												<div class="citizen-toc-content">
													<div class="citizen-toc-text">
														<span class="citizen-toc-numb">1.4.1</span>
														<span class="citizen-toc-heading">math equivalents</span>
													</div>

												</div>
											</a>

											<ul id="toc-math_equivalents-sublist" class="citizen-toc-list">
											</ul>
										</li>
									</ul>
								</li>
								<li id="toc-Prints_are_the_devil" class="citizen-toc-list-item citizen-toc-level-2">
									<a class="citizen-toc-link" href="#Prints_are_the_devil" role="button">
										<div class="citizen-toc-indicator"></div>
										<div class="citizen-toc-content">
											<div class="citizen-toc-text">
												<span class="citizen-toc-numb">1.5</span>
												<span class="citizen-toc-heading">Prints are the devil</span>
											</div>

										</div>
									</a>

									<ul id="toc-Prints_are_the_devil-sublist" class="citizen-toc-list">
									</ul>
								</li>
								<li id="toc-Tables" class="citizen-toc-list-item citizen-toc-level-2">
									<a class="citizen-toc-link" href="#Tables" role="button">
										<div class="citizen-toc-indicator"></div>
										<div class="citizen-toc-content">
											<div class="citizen-toc-text">
												<span class="citizen-toc-numb">1.6</span>
												<span class="citizen-toc-heading">Tables</span>
											</div>

										</div>
									</a>

									<ul id="toc-Tables-sublist" class="citizen-toc-list">
										<li id="toc-Array_tables" class="citizen-toc-list-item citizen-toc-level-3">
											<a class="citizen-toc-link" href="#Array_tables" role="button">
												<div class="citizen-toc-indicator"></div>
												<div class="citizen-toc-content">
													<div class="citizen-toc-text">
														<span class="citizen-toc-numb">1.6.1</span>
														<span class="citizen-toc-heading">Array tables</span>
													</div>

												</div>
											</a>

											<ul id="toc-Array_tables-sublist" class="citizen-toc-list">
											</ul>
										</li>
										<li id="toc-pairs_and_ipairs" class="citizen-toc-list-item citizen-toc-level-3">
											<a class="citizen-toc-link" href="#pairs_and_ipairs" role="button">
												<div class="citizen-toc-indicator"></div>
												<div class="citizen-toc-content">
													<div class="citizen-toc-text">
														<span class="citizen-toc-numb">1.6.2</span>
														<span class="citizen-toc-heading">pairs and ipairs</span>
													</div>

												</div>
											</a>

											<ul id="toc-pairs_and_ipairs-sublist" class="citizen-toc-list">
												<li id="toc-Alternatives_to_ipairs"
													class="citizen-toc-list-item citizen-toc-level-4">
													<a class="citizen-toc-link" href="#Alternatives_to_ipairs"
														role="button">
														<div class="citizen-toc-indicator"></div>
														<div class="citizen-toc-content">
															<div class="citizen-toc-text">
																<span class="citizen-toc-numb">1.6.2.1</span>
																<span class="citizen-toc-heading">Alternatives to
																	ipairs</span>
															</div>

														</div>
													</a>

													<ul id="toc-Alternatives_to_ipairs-sublist"
														class="citizen-toc-list">
													</ul>
												</li>
												<li id="toc-Alternatives_to_pairs"
													class="citizen-toc-list-item citizen-toc-level-4">
													<a class="citizen-toc-link" href="#Alternatives_to_pairs"
														role="button">
														<div class="citizen-toc-indicator"></div>
														<div class="citizen-toc-content">
															<div class="citizen-toc-text">
																<span class="citizen-toc-numb">1.6.2.2</span>
																<span class="citizen-toc-heading">Alternatives to
																	pairs</span>
															</div>

														</div>
													</a>

													<ul id="toc-Alternatives_to_pairs-sublist" class="citizen-toc-list">
													</ul>
												</li>
											</ul>
										</li>
									</ul>
								</li>
								<li id="toc-Generating_randomness" class="citizen-toc-list-item citizen-toc-level-2">
									<a class="citizen-toc-link" href="#Generating_randomness" role="button">
										<div class="citizen-toc-indicator"></div>
										<div class="citizen-toc-content">
											<div class="citizen-toc-text">
												<span class="citizen-toc-numb">1.7</span>
												<span class="citizen-toc-heading">Generating randomness</span>
											</div>

										</div>
									</a>

									<ul id="toc-Generating_randomness-sublist" class="citizen-toc-list">
									</ul>
								</li>
								<li id="toc-Load_balancing" class="citizen-toc-list-item citizen-toc-level-2">
									<a class="citizen-toc-link" href="#Load_balancing" role="button">
										<div class="citizen-toc-indicator"></div>
										<div class="citizen-toc-content">
											<div class="citizen-toc-text">
												<span class="citizen-toc-numb">1.8</span>
												<span class="citizen-toc-heading">Load balancing</span>
											</div>

										</div>
									</a>

									<ul id="toc-Load_balancing-sublist" class="citizen-toc-list">
										<li id="toc-Example" class="citizen-toc-list-item citizen-toc-level-3">
											<a class="citizen-toc-link" href="#Example" role="button">
												<div class="citizen-toc-indicator"></div>
												<div class="citizen-toc-content">
													<div class="citizen-toc-text">
														<span class="citizen-toc-numb">1.8.1</span>
														<span class="citizen-toc-heading">Example</span>
													</div>

												</div>
											</a>

											<ul id="toc-Example-sublist" class="citizen-toc-list">
											</ul>
										</li>
									</ul>
								</li>
								<li id="toc-Benchmarking" class="citizen-toc-list-item citizen-toc-level-2">
									<a class="citizen-toc-link" href="#Benchmarking" role="button">
										<div class="citizen-toc-indicator"></div>
										<div class="citizen-toc-content">
											<div class="citizen-toc-text">
												<span class="citizen-toc-numb">1.9</span>
												<span class="citizen-toc-heading">Benchmarking</span>
											</div>

										</div>
									</a>

									<ul id="toc-Benchmarking-sublist" class="citizen-toc-list">
										<li id="toc-Example_2" class="citizen-toc-list-item citizen-toc-level-3">
											<a class="citizen-toc-link" href="#Example_2" role="button">
												<div class="citizen-toc-indicator"></div>
												<div class="citizen-toc-content">
													<div class="citizen-toc-text">
														<span class="citizen-toc-numb">1.9.1</span>
														<span class="citizen-toc-heading">Example</span>
													</div>

												</div>
											</a>

											<ul id="toc-Example_2-sublist" class="citizen-toc-list">
											</ul>
										</li>
									</ul>
								</li>
							</ul>
						</li>
						<li id="toc-Modeling_and_texturing" class="citizen-toc-list-item citizen-toc-level-1">
							<a class="citizen-toc-link" href="#Modeling_and_texturing" role="button">
								<div class="citizen-toc-indicator"></div>
								<div class="citizen-toc-content">
									<div class="citizen-toc-text">
										<span class="citizen-toc-numb">2</span>
										<span class="citizen-toc-heading">Modeling and texturing</span>
									</div>

								</div>
							</a>

							<button aria-controls="toc-Modeling_and_texturing-sublist" class="citizen-toc-toggle"
								aria-expanded="false">
								<span class="citizen-ui-icon mw-ui-icon-wikimedia-collapse"></span>
								<span></span>
							</button>

							<ul id="toc-Modeling_and_texturing-sublist" class="citizen-toc-list">
								<li id="toc-Polycount" class="citizen-toc-list-item citizen-toc-level-2">
									<a class="citizen-toc-link" href="#Polycount" role="button">
										<div class="citizen-toc-indicator"></div>
										<div class="citizen-toc-content">
											<div class="citizen-toc-text">
												<span class="citizen-toc-numb">2.1</span>
												<span class="citizen-toc-heading">Polycount</span>
											</div>

										</div>
									</a>

									<ul id="toc-Polycount-sublist" class="citizen-toc-list">
									</ul>
								</li>
								<li id="toc-Texture_size_limit" class="citizen-toc-list-item citizen-toc-level-2">
									<a class="citizen-toc-link" href="#Texture_size_limit" role="button">
										<div class="citizen-toc-indicator"></div>
										<div class="citizen-toc-content">
											<div class="citizen-toc-text">
												<span class="citizen-toc-numb">2.2</span>
												<span class="citizen-toc-heading">Texture size limit</span>
											</div>

										</div>
									</a>

									<ul id="toc-Texture_size_limit-sublist" class="citizen-toc-list">
									</ul>
								</li>
								<li id="toc-UV_mapping" class="citizen-toc-list-item citizen-toc-level-2">
									<a class="citizen-toc-link" href="#UV_mapping" role="button">
										<div class="citizen-toc-indicator"></div>
										<div class="citizen-toc-content">
											<div class="citizen-toc-text">
												<span class="citizen-toc-numb">2.3</span>
												<span class="citizen-toc-heading">UV mapping</span>
											</div>

										</div>
									</a>

									<ul id="toc-UV_mapping-sublist" class="citizen-toc-list">
									</ul>
								</li>
							</ul>
						</li>
						<li id="toc-See_also" class="citizen-toc-list-item citizen-toc-level-1">
							<a class="citizen-toc-link" href="#See_also" role="button">
								<div class="citizen-toc-indicator"></div>
								<div class="citizen-toc-content">
									<div class="citizen-toc-text">
										<span class="citizen-toc-numb">3</span>
										<span class="citizen-toc-heading">See also</span>
									</div>

								</div>
							</a>

							<ul id="toc-See_also-sublist" class="citizen-toc-list">
							</ul>
						</li>
						<li id="toc-Navigation" class="citizen-toc-list-item citizen-toc-level-1">
							<a class="citizen-toc-link" href="#Navigation" role="button">
								<div class="citizen-toc-indicator"></div>
								<div class="citizen-toc-content">
									<div class="citizen-toc-text">
										<span class="citizen-toc-numb">4</span>
										<span class="citizen-toc-heading">Navigation</span>
									</div>

								</div>
							</a>

							<ul id="toc-Navigation-sublist" class="citizen-toc-list">
							</ul>
						</li>
					</ul>
				</div>
			</nav>
		</div>
	</div>
	<footer class="citizen-page-footer">
		<div id="catlinks" class="catlinks" data-mw="interface">
			<div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="/wiki/Special:Categories"
					title="Special:Categories">Category</a>: <ul>
					<li><a href="/wiki/Category:Modding_guides" title="Category:Modding guides">Modding guides</a></li>
				</ul>
			</div>
			<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
					<li><a href="/wiki/Category:En" title="Category:En">English</a></li>
					<li><a href="/wiki/Category:Version_42.10.0" title="Category:Version 42.10.0">Version 42.10.0</a>
					</li>
					<li><a href="/wiki/Category:Version_42.0.1" title="Category:Version 42.0.1">Version 42.0.1</a></li>
					<li><a href="/wiki/Category:Version_42.0.2" title="Category:Version 42.0.2">Version 42.0.2</a></li>
				</ul>
			</div>
		</div>
		<div class="page-info">
			<section id="footer-info-lastmod" class="page-info__item">
				<div class="page-info__label">Last modified</div>
				<div class="page-info__text"> This page was last edited on 5 January 2026, at 23:15.</div>
			</section>
		</div>
	</footer>
</div>
